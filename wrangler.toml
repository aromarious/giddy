name = "giddy"
main = "src/index.ts"
account_id = "3520174036b3ede4925175a8d03f8d73"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]

[observability]
enabled = true
head_sampling_rate = 1

# --- Production ---
# 環境固有の値（GITHUB_APP_ID 等）は Doppler で管理
[env.production]
name = "giddy"

[env.production.vars]
AI_MODEL = "claude-haiku-4-5-20251001"

[[env.production.d1_databases]]
binding = "DB"
database_name = "giddy"
database_id = "48c52678-3c1a-4e0b-86eb-010d1a371285"

# --- Dev ---
[env.dev]
name = "giddy-dev"

[env.dev.vars]
AI_MODEL = "claude-haiku-4-5-20251001"

[[env.dev.d1_databases]]
binding = "DB"
database_name = "giddy-dev"
database_id = "4b0da723-8064-48db-b7ef-d822ad87d306"
